<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <title>Peter Jang</title>
  <style>
  *, *:before, *:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    margin:0;
    padding:0;
  }
  @keyframes typing { from { width: 0; } }
  @keyframes typing2 { 0%{width: 0;} 50%{width: 0;} 100%{ width: 100; } } 
  #title {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    font: 1em Consolas, Monaco, monospace;
    color: #ccc;
    margin: 2em 1em;
    z-index: -1;
  }
  #title h1 { 
  	width: 10ch;
  	white-space: nowrap;
  	overflow: hidden;
  	animation: typing 1s steps(10, end);
    transition: color 1s ease;
  }
  #title p { 
  	width: 18ch;
  	white-space: nowrap;
  	overflow: hidden;
  	animation: typing2 4s steps(18, end);
    transition: opacity 1s ease;
  }
  html, body {
    height: 100%;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;;
  }
  body {
    overflow-x: hidden;
  }
  canvas {
    height: 100%;
    display: block;
  }
  .modal {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    padding: 1em;
    z-index: 3;
    transition: opacity 0.2s;
  }
  .modal p {
    margin-bottom: 1em;
  }
  .modal a {
    color: white;
  }
  .modal-close {
    color: white;
    float: right;
    margin-bottom: 1em;
  }
  #modal-info {
    opacity: 0;
    padding-top: 0px;
    padding-bottom: 0px;
    pointer-events: none;
    background-color: #222;
  }
  #modal-info > div {
    margin: 0 auto;
    max-width: 960px;
    height: 100%;
    overflow: hidden;
  }
  #modal-info > div > div {
    padding: 1em;
    overflow-y: auto;
    height: 100%;
    margin-right: -200em;
    padding-right: 201em;
    background-color: #000;
  }
  #modal-info a {
    pointer-events: auto;
  }
  #modal-info .caption:hover {
    cursor: pointer;
  }
  #modal-info .caption {
    margin-bottom: 0.2em;
  }
  #modal-menu {
    display: none;
    opacity: 0.9;
  }
  #modal-menu button {
    display: block;
    height: 4em;
    width: 50%;
    margin-left: 25%;
    margin-bottom: 1em;
  }
  </style>
</head>
<body style="background-color:#111">
  <div id="app"></div>
  <canvas id="canvas"></canvas>
  <div id="title">
    <!-- typing animation based on Lea Verou's work: http://lea.verou.me/2012/02/simpler-css-typing-animation-with-the-ch-unit/ -->
    <h1>Peter Jang</h1>
    <p>(zoom to navigate)</p>
  </div>
  <div id="modal-info" class="modal" style="opacity:0">
    <div class="hidden-scrollbar">
      <div class="inner">
        <h1 class="caption" title="Toggle solid text"></h1>
        <div class="body"></div>
      </div>
    </div>
  </div>
  <div id="modal-menu" class="modal" style="display:none">
    <a id="modal-menu-close" class="modal-close" href="javascript:void(0)">Close</a>
    <button id="modal-menu-save">Save Layout</button>
    <button id="modal-menu-reset">Reset Layout</button>
  </div>
  <script>!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var a=n(1),o=i(a),r=n(19),c=i(r),s=n(20),l=i(s),d=n(21),u=i(d),h={initialize:function(){o.default.initialize(document.getElementById("canvas"),{onTransition:this.handleTransition.bind(this),onSave:this.handleSave.bind(this),onMenu:this.handleMenu.bind(this),onShowModalInfo:this.handleShowModalInfo.bind(this),onHideModalInfo:this.handleHideModalInfo.bind(this),isModalInfoVisible:function(){return l.default.visible}}),o.default.transitionRoute(c.default),setTimeout(function(){document.querySelector("#title h1").style.color="#333",document.querySelector("#title p").style.opacity=0},6e3)},handleTransition:function(t,e){return 0>t?!0:e?(l.default.show(e.caption,o.default.getBody(e)),!0):!1},handleMenu:function(t){u.default.show({onSaveLayout:this.handleSave.bind(null,t),onResetLayout:this.handleResetLayout})},handleResetLayout:function(){localStorage.removeItem("state"),location.reload()},handleSave:function(t){var e={selectedItem:-1,canvas:{id:t.canvas.id,x:Math.round(10*t.canvas.x)/10,y:Math.round(10*t.canvas.y)/10,angle:Math.round(1e3*t.canvas.angle)/1e3,scale:Math.round(1e5*t.canvas.scale)/1e5,color:t.canvas.color,viewportTransform:t.canvas.viewportTransform},items:t.items.map(function(t){var e={id:t.id,caption:t.caption,x:Math.round(10*t.x)/10,y:Math.round(10*t.y)/10,width:t.width,height:t.height,color:t.color,angle:Math.round(1e3*t.angle)/1e3,scale:Math.round(1e5*t.scale)/1e5};return t.pinBack&&(e.pinBack=t.pinBack),t.body&&(e.body=t.body),t.src!==t.id+".jpg"&&(e.src=t.src),e}).sort(function(t,e){return t.id-e.id})},n=JSON.stringify(e,null,2);localStorage.setItem("state",n)},handleShowModalInfo:function(t,e){l.default.show(t,e)},handleHideModalInfo:function(){l.default.visible&&l.default.hide()}};h.initialize()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){K=Z.getState(),h();var t=!1;K.items.forEach(function(e){var n=F.default.render(l(e));1>n&&(t=!0)}),!t||yt||gt||window.requestAnimationFrame(r)}function r(){Z.dispatch((0,Y.refreshCanvas)())}function c(){K.items.forEach(function(t){var e=F.default.getVisibleOpacity(t.width,t.scale,K.canvas.scale),n=F.default.isRecordInViewport(t,K.canvas,0,0,Q.width/K.canvas.scale,Q.height/K.canvas.scale);e>.9&&n&&F.default.loadImage(l(t))})}function s(t){var e=K.items.reduce(function(t,e){return t+e.width*e.scale*K.canvas.scale},0);if(0>t&&10>e)return J.onTransition(-1,K.parent);if(t>0)for(var n,i=0;i<K.items.length;i++)if(n=K.items[i],!n.pinBack&&F.default.isRecordEnclosed(n,K.canvas,0,0,Q.width/K.canvas.scale,Q.height/K.canvas.scale))return J.onTransition(1,n);return J.onHideModalInfo(),!1}function l(t){return U({},t,{canvasScale:K.canvas.scale,selected:t.id===K.selectedItem,onGetItemProps:d,onUpdateItemProps:u})}function d(t){return l(K.items.filter(function(e){return e.id===t})[0])}function u(t,e){Z.dispatch((0,Y.updateItemCharacteristics)(t,e))}function h(){tt.setTransform(1,0,0,1,0,0),tt.clearRect(0,0,Q.width,Q.height),tt.setTransform(K.canvas.scale,0,0,K.canvas.scale,K.canvas.x,K.canvas.y)}function f(){Q.width=window.innerWidth,Q.height=window.innerHeight,p(),o()}function p(){1!==window.devicePixelRatio&&(Q.width=Q.width*window.devicePixelRatio,Q.height=Q.height*window.devicePixelRatio,K||(K=Z.getState()),tt.scale(K.canvas.scale*window.devicePixelRatio,K.canvas.scale*window.devicePixelRatio))}function v(){var t=F.default.computeTransformedDimensions(st,K.canvas),e=t.xMin,n=t.yMin,i=t.xMax,a=t.yMax;dt=st.pinBack?K.items.filter(function(t){return t.id!==st.id&&!t.pinBack&&F.default.isRecordInViewport(t,K.canvas,e,n,i-e,a-n)}):null}function y(t,e,n){st=n,v(),et=t,nt=e,Q.style.cursor="pointer",Z.dispatch((0,Y.selectItem)(st.id,st.pinBack))}function g(t,e){if(dt){var n=[].concat(a(dt),[st]).map(function(n){return{id:n.id,x:n.x+t,y:n.y+e}});Z.dispatch((0,Y.translateItemGroup)(n))}else Z.dispatch((0,Y.translateItem)(st.id,st.x+t,st.y+e))}function m(t,e,n){st=n,v(),et=t,nt=e,Q.style.cursor="crosshair"}function w(t,e){var n=F.default.computeBorderSize(st),i=n.fullWidth,a=n.fullHeight,o=2*t+i*st.scale,r=2*e+a*st.scale,c=Math.sqrt(Math.pow(i,2)+Math.pow(a,2)),s=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),l=s/c,d=$(i,a,o,r);x(st,dt,l,d)}function x(t,e,n,i){if(e){var o=[].concat(a(e),[t]).map(function(e){var a=e.x-t.x,o=e.y-t.y,r=Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),c=Math.atan2(o,a);return{id:e.id,x:t.x+r*Math.cos(c+i-t.angle)*n/t.scale,y:t.y+r*Math.sin(c+i-t.angle)*n/t.scale,scale:e.scale*(n/t.scale),angle:e.angle+i-t.angle}});Z.dispatch((0,Y.transformItemGroup)(o))}else Z.dispatch((0,Y.transformItem)(t.id,t.x,t.y,n,i))}function b(t,e){ut=!0,et=t,nt=e,st=null,dt=null,lt=null,Z.dispatch((0,Y.selectItem)(-1))}function M(t,e,n,i){Z.dispatch((0,Y.translateCanvas)(t,e)),et=n,nt=i}function T(){yt=!0}function E(){yt=!1,c(),o()}function I(t,e,n){var i=Math.exp(.2*n),a=K.canvas.scale*i,o=t-(t-K.canvas.x)*i,r=e-(e-K.canvas.y)*i,c=s(n);c||Z.dispatch((0,Y.scaleCanvas)(a,o,r))}function S(t,e,n,i){ht=!0,et=t,nt=e,ot=n,rt=i,ct=K.canvas.scale}function A(t,e,n,i){var a=Math.sqrt(Math.pow(et-ot,2)+Math.pow(nt-rt,2)),o=Math.sqrt(Math.pow(t-n,2)+Math.pow(e-i,2)),r=o/a;if(st){var c=$(et-ot,nt-rt,t-n,e-i);x(st,dt,st.scale*r,c)}else if(ut){var l=t+.5*(n-t),d=e+.5*(i-e),u=l-(l-K.canvas.x)*ct*r/K.canvas.scale,h=d-(d-K.canvas.y)*ct*r/K.canvas.scale,f=r>1?1:-1,p=s(f);p||Z.dispatch((0,Y.scaleCanvas)(ct*r,u,h))}}function _(){st=null,dt=null,lt=null,ut=null,ht=!1,ct=null,gt=!1,Q.style.cursor="",c(),o()}function R(t){t.preventDefault();var e=B(t),n=e.inputX,i=e.inputY,a=e.inputX2,o=e.inputY2;if(null!==pt||J.isModalInfoVisible()){if(null!==pt&&(clearTimeout(pt),pt=null,void 0===a&&void 0===o&&C(n,i)))return void P()}else pt=setTimeout(function(){pt=null},500);gt=!0,void 0===a&&void 0===o?ft=setTimeout(O,1e3):clearTimeout(ft),a&&o&&S(n,i,a,o);var r=K.items.filter(function(t){return t.id===K.selectedItem})[0];r?(lt=F.default.isPointInRecord(U({},r,{inputX:n,inputY:i,canvasScale:K.canvas.scale})),"record"===lt?y(n,i,r):"handle"===lt?m(n,i,r):b(n,i)):b(n,i),it=et,at=nt,s(1)}function C(t,e){return Math.abs(t-it)<.02*Q.width&&Math.abs(e-at)<.02*Q.height}function O(){for(var t=K.items.filter(function(t){return t.id===K.selectedItem})[0],e=K.items.length-1;e>=0;e--){var n=K.items[e];if(lt=F.default.isPointInRecord(U({},n,{inputX:et,inputY:nt,canvasScale:K.canvas.scale})),"record"===lt)return F.default.isRecordEnclosed(n,K.canvas,0,0,Q.width/K.canvas.scale,Q.height/K.canvas.scale)?void 0:n!==t?void y(et,nt,n):void J.onShowModalInfo(n.caption,L(n));if("handle"===lt&&n.id===K.selectedItem)return void m(et,nt,n)}J.onMenu(K)}function P(){for(var t=K.items.length-1;t>=0;t--){var e=K.items[t],n=F.default.isPointInRecord(U({},e,{inputX:et,inputY:nt,canvasScale:K.canvas.scale,skipCheckHandle:!0}));if("record"===n){if(!e.pinBack)return void J.onShowModalInfo(e.caption,L(e));var i=F.default.getTransformedDimensions(e),a=i.x,o=i.y,r=i.width,c=i.height;return void N(a,o,r,c)}}k()}function L(t){return"undefined"!=typeof bodyData?bodyData[t.id]:t.body}function N(t,e,n,i){var a=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],o=arguments.length<=5||void 0===arguments[5]?.05:arguments[5],r=(Q.width-2*o*Q.width)/n,c=(Q.height-2*o*Q.height)/i;if(r&&c){var s=void 0,l=void 0,d=void 0,u=void 0,h=void 0;return c>r?(h=(Q.height-i*r)/2,s=r,l=-t*r+o*Q.width,d=-e*r+h):(u=(Q.width-n*c)/2,s=c,l=-t*c+u,d=-e*c+o*Q.height),a||s!==K.canvas.scale||l!==K.canvas.x||d!==K.canvas.y?void Z.dispatch((0,Y.scaleCanvas)(s,l,d)):void k()}}function k(){var t=arguments.length<=0||void 0===arguments[0]?.1:arguments[0],e=[],n=[];K.items.forEach(function(t){var i=F.default.getTransformedDimensions(t),a=i.x,o=i.y,r=i.width,c=i.height;e.push(a),e.push(a+r),n.push(o),n.push(o+c)});var i=Math.min.apply(Math,e),a=Math.max.apply(Math,e)-i,o=Math.min.apply(Math,n),r=Math.max.apply(Math,n)-o;N(i,o,a,r,!0,t)}function j(){_(),clearTimeout(ft)}function D(t){var e=B(t),n=e.inputX,i=e.inputY,a=e.inputX2,o=e.inputY2,r=n/K.canvas.scale,c=i/K.canvas.scale,s=et/K.canvas.scale,l=nt/K.canvas.scale,d=r-s,u=c-l;ht?A(n,i,a,o):"handle"===lt?w(d,u):st?g(d,u):ut&&M(d,u,n,i),gt&&!C(n,i)&&clearTimeout(ft)}function H(t){vt||T(),clearTimeout(vt),vt=setTimeout(function(){vt=void 0,E()},250);var e=t.wheelDelta?-t.wheelDelta/40:t.detail?t.detail:0;if(e){var n=B(t),i=n.inputX,a=n.inputY;I(i,a,e)}return t.preventDefault()&&!1}function B(t){var e=t.touches?t.touches[0].clientX:t.clientX||t.pageX,n=t.touches?t.touches[0].clientY:t.clientY||t.pageY,i=Q.getBoundingClientRect(),a=(e-i.left)*(Q.width/i.width),o=(n-i.top)*(Q.height/i.height),r=void 0,c=void 0;return t.touches&&t.touches.length>1&&(r=(t.touches[1].clientX-i.left)*(Q.width/i.width),c=(t.touches[1].clientY-i.top)*(Q.height/i.height)),{inputX:a,inputY:o,inputX2:r,inputY2:c}}function $(t,e,n,i){var a=Math.atan2(e,t),o=Math.atan2(i,n),r=st.angle+o-a,c=r>Math.PI?r-2*Math.PI:r;return Math.abs(c)<.05?0:c}function z(t,e){return Z=(0,G.createStore)(X.default),Q=t,J=e,Q.getContext&&(tt=Q.getContext("2d"),F.default.init(tt),Q.addEventListener("mousedown",R,!1),Q.addEventListener("touchstart",R,!1),window.addEventListener("mousemove",D,!1),window.addEventListener("touchmove",D,!1),window.addEventListener("mouseup",j,!1),window.addEventListener("touchend",j,!1),Q.addEventListener("DOMMouseScroll",H,!1),Q.addEventListener("mousewheel",H,!1),window.addEventListener("resize",f,!1),f(),Z.subscribe(function(){return o()})),Z}function V(t){Z.dispatch((0,Y.changeRoute)(t)),k(.2),c()}Object.defineProperty(e,"__esModule",{value:!0});var U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G=n(2),W=n(15),X=i(W),Y=n(16),q=n(17),F=i(q),J=void 0,Z=void 0,K=void 0,Q=void 0,tt=void 0,et=void 0,nt=void 0,it=void 0,at=void 0,ot=void 0,rt=void 0,ct=void 0,st=void 0,lt=void 0,dt=void 0,ut=void 0,ht=void 0,ft=void 0,pt=null,vt=void 0,yt=void 0,gt=void 0;e.default={initialize:z,transitionRoute:V,getBody:L}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var a=n(3),o=i(a),r=n(10),c=i(r),s=n(12),l=i(s),d=n(13),u=i(d),h=n(14),f=i(h),p=n(11);i(p);e.createStore=o.default,e.combineReducers=c.default,e.bindActionCreators=l.default,e.applyMiddleware=u.default,e.compose=f.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,n){function i(){g===y&&(g=y.slice())}function o(){return v}function c(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return i(),g.push(t),function(){if(e){e=!1,i();var n=g.indexOf(t);g.splice(n,1)}}}function d(t){if(!(0,r.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,v=p(v,t)}finally{m=!1}for(var e=y=g,n=0;n<e.length;n++)e[n]();return t}function u(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,d({type:l.INIT})}function h(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var i=e(n);return{unsubscribe:i}}},t[s.default]=function(){return this},t}var f;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,v=e,y=[],g=y,m=!1;return d({type:l.INIT}),f={dispatch:d,subscribe:c,getState:o,replaceReducer:u},f[s.default]=h,f}e.__esModule=!0,e.ActionTypes=void 0,e.default=a;var o=n(4),r=i(o),c=n(8),s=i(c),l=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function i(t){if(!r(t)||h.call(t)!=c||o(t))return!1;var e=a(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}var a=n(5),o=n(6),r=n(7),c="[object Object]",s=Object.prototype,l=Function.prototype.toString,d=s.hasOwnProperty,u=l.call(Object),h=s.toString;t.exports=i},function(t,e){function n(t){return i(Object(t))}var i=Object.getPrototypeOf;t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(9)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){var n=e&&e.type,i=n&&'"'+n.toString()+'"'||"an action";return"Given action "+i+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:c.ActionTypes.INIT});if("undefined"==typeof i)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+c.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function r(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];"function"==typeof t[r]&&(n[r]=t[r])}var c,s=Object.keys(n);try{o(n)}catch(l){c=l}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(c)throw c;for(var i=!1,o={},r=0;r<s.length;r++){var l=s[r],d=n[l],u=t[l],h=d(u,e);if("undefined"==typeof h){var f=a(l,e);throw new Error(f)}o[l]=h,i=i||h!==u}return i?o:t}}e.__esModule=!0,e.default=r;var c=n(3),s=n(4),l=(i(s),n(11));i(l)},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error;try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(t),a={},o=0;o<i.length;o++){var r=i[o],c=t[r];"function"==typeof c&&(a[r]=n(c,e))}return a}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,i,a){var r=t(n,i,a),s=r.dispatch,l=[],d={getState:r.getState,dispatch:function(t){return s(t)}};return l=e.map(function(t){return t(d)}),s=c.default.apply(void 0,l)(r.dispatch),o({},r,{dispatch:s})}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=a;var r=n(14),c=i(r)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var i=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof i?i.v:void 0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(){var t=arguments.length<=0||void 0===arguments[0]?u.canvas:arguments[0],e=arguments[1];switch(e.type){case d.TRANSLATE_CANVAS:return s({},t,{x:t.x+e.x*t.scale,y:t.y+e.y*t.scale});case d.SCALE_CANVAS:return s({},t,{x:e.x,y:e.y,scale:e.scale});default:return t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?u.selectedItem:arguments[0],e=arguments[1];switch(e.type){case d.SELECT_ITEM:return e.id;default:return t}}function r(){var t=arguments.length<=0||void 0===arguments[0]?u.items:arguments[0],e=arguments[1];switch(e.type){case d.ADD_ITEM:return[].concat(i(t),[e.item]);case d.TRANSLATE_ITEM:return t.map(function(t){return t.id===e.id?s({},t,{x:e.x,y:e.y}):t});case d.TRANSLATE_ITEM_GROUP:return t.map(function(t){for(var n=0;n<e.transforms.length;n++)if(t.id===e.transforms[n].id)return s({},t,{x:e.transforms[n].x,y:e.transforms[n].y});return t});case d.SCALE_ITEM:return t.map(function(t){return t.id===e.id?s({},t,{scale:e.scale}):t});case d.TRANSFORM_ITEM:return t.map(function(t){return t.id===e.id?s({},t,{x:e.x,y:e.y,scale:e.scale,angle:e.angle}):t});case d.TRANSFORM_ITEM_GROUP:return t.map(function(t){for(var n=0;n<e.transforms.length;n++)if(t.id===e.transforms[n].id)return s({},t,{x:e.transforms[n].x,y:e.transforms[n].y,scale:e.transforms[n].scale,angle:e.transforms[n].angle});return t});case d.UPDATE_ITEM_CHARACTERISTICS:return t.map(function(t){return t.id===e.id?s({},t,e.options):t});case d.SELECT_ITEM:var n=t.filter(function(t){return t.id!==e.id}),a=t.filter(function(t){return t.id===e.id});return e.pinBack?a.concat(n):n.concat(a);default:return t}}function c(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];arguments[1];return t}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(2),d=n(16),u={canvas:{x:0,y:0,scale:1,src:"root.jpg"},selectedItem:-1,items:[]},h=(0,l.combineReducers)({canvas:a,selectedItem:o,items:r,parent:c}),f=function(t,e){return e.type===d.CHANGE_ROUTE&&(t={canvas:e.state.canvas,items:e.state.items,parent:e.state.parent}),h(t,e)};e.default=f},function(t,e){"use strict";function n(t){return{type:p,item:t}}function i(t,e){return{type:v,id:t,pinBack:e}}function a(t,e,n){return{type:y,id:t,x:e,y:n}}function o(t){return{type:g,transforms:t}}function r(t,e){return{type:m,id:t,scale:e}}function c(t,e,n,i,a){return{type:w,id:t,x:e,y:n,scale:i,angle:a}}function s(t){return{type:x,transforms:t}}function l(t,e){return{type:T,id:t,options:e}}function d(t,e){return{type:b,x:t,y:e}}function u(t,e,n){return{type:M,scale:t,x:e,y:n}}function h(t){return{type:E,state:t}}function f(){return{type:I}}Object.defineProperty(e,"__esModule",{value:!0}),e.addItem=n,e.selectItem=i,e.translateItem=a,e.translateItemGroup=o,e.scaleItem=r,e.transformItem=c,e.transformItemGroup=s,e.updateItemCharacteristics=l,e.translateCanvas=d,e.scaleCanvas=u,e.changeRoute=h,e.refreshCanvas=f;var p=e.ADD_ITEM="ADD_ITEM",v=e.SELECT_ITEM="SELECT_ITEM",y=e.TRANSLATE_ITEM="TRANSLATE_ITEM",g=e.TRANSLATE_ITEM_GROUP="TRANSLATE_ITEM_GROUP",m=e.SCALE_ITEM="SCALE_ITEM",w=e.TRANSFORM_ITEM="TRANSFORM_ITEM",x=e.TRANSFORM_ITEM_GROUP="TRANSFORM_ITEM_GROUP",b=e.TRANSLATE_CANVAS="TRANSLATE_CANVAS",M=e.SCALE_CANVAS="SCALE_CANVAS",T=(e.RESIZE_ITEM="RESIZE_ITEM",e.ROTATE_ITEM="ROTATE_ITEM",e.UPDATE_ITEM_CHARACTERISTICS="UPDATE_ITEM_CHARACTERISTICS"),E=e.CHANGE_ROUTE="CHANGE_ROUTE",I=e.REFRESH_CANVAS="REFRESH_CANVAS"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(18),r=i(o),c={},s=!1,l=[],d=6,u={init:function(t){this.ctx=t,r.default.init(t)},clearImageCache:function(){c={}},render:function(t){var e=this.computeBorderSize(t),n=e.borderSize,i=e.fullWidth,o=e.fullHeight,c=a({},t,{borderSize:n,fullWidth:i,fullHeight:o});this.ctx.save(),this.transformToItem(c),this.renderBase(c),this.renderText(c);var s=this.renderImageAnimate(c);return t.selected&&r.default.render(c),this.ctx.restore(),s},renderBase:function(t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.borderSize,r=t.fullWidth,c=t.fullHeight,s=t.color,l=t.selected;if(r&&c){this.ctx.strokeStyle=l?"#aaf":"#ddd",this.ctx.fillStyle=l?"#ccf":"#fff";var d=e-r/2,u=n-c/2;this.draw(this.ctx.fillRect,d,u,r,c),this.draw(this.ctx.strokeRect,d,u,r,c),this.ctx.fillStyle=s||"#000",this.draw(this.ctx.fillRect,d+o,u+o,i,a)}},renderText:function(t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.fullHeight,r=t.caption,c=t.border,s=t.borderSize;if(c){var l=o-a-s,d=.5*l;this.ctx.fillStyle="#333",this.ctx.font=d+"px MV Boli, HanziPen SC, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="bottom",this.ctx.fillText(r,e,n+.5*o-.4*(l-d),i)}},loadImage:function(t){var e=this;if(!c[t.id]){if(s)return void l.push(this.loadImage.bind(this,t));s=!0;var n=t.src?"/images/"+t.src:"/images/"+t.id+".jpg",i=new Image;i.addEventListener("load",function(){s=!1;var n=t.color||e.getDominantColor(i),a=void 0===t.scale?1:t.scale;t.onUpdateItemProps(t.id,{width:i.width,height:i.height,color:n,scale:a}),i.alpha=0,l.length>0&&l.pop().call()},!1),i.src=n,c[t.id]=i}},renderImageAnimate:function(t){var e=c[t.id];if(e){var n=void 0;return n=this.renderImage(e,t),e.alpha<1&&(e.alpha+=.01),n}},renderImage:function(t,e){if(t.width&&t.height){var n=this.getVisibleOpacity(t.width,e.scale,e.canvasScale),i=t.alpha||0;if(n>0){this.ctx.globalAlpha=Math.min(i,n);var a=e.x-e.width/2,o=e.y-e.height/2-d*e.borderSize/2;this.ctx.drawImage(t,a,o),this.ctx.globalAlpha=1}return i}},computeBorderSize:function(t){var e=t.width,n=t.height,i=t.border,a=i?.025*Math.min(e,n):0,o=e+2*a,r=n+(2+d)*a;return{borderSize:a,fullWidth:o,fullHeight:r}},getTransformedDimensions:function(t){var e=this.computeBorderSize(t),n=e.fullWidth,i=e.fullHeight,a=n*t.scale,o=i*t.scale,r=t.x-n/2-(a-n)/2,c=t.y-i/2-(o-i)/2;return{x:r,y:c,width:a,height:o}},getVisibleOpacity:function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?50:arguments[3],a=t*e*n,o=(a-i)/(.5*i);return Math.max(0,Math.min(o,1))},isPointInRecord:function(t){var e=t.x,n=t.y,i=t.height,a=t.width,o=t.scale,c=t.angle,s=t.inputX,l=t.inputY,d=t.border,u=t.canvasScale,h=t.skipCheckHandle,f=this.computeBorderSize({width:a,height:i,border:d}),p=f.fullWidth,v=f.fullHeight;this.ctx.save(),this.transformToItem({x:e,y:n,fullWidth:p,fullHeight:v,scale:o,angle:c}),this.ctx.beginPath();var y=e-p/2,g=n-v/2;r.default.draw(this.ctx.rect,y,g,p,v,o,u);var m=void 0;return!h&&this.ctx.isPointInPath(s,l)?m="handle":(this.ctx.beginPath(),this.draw(this.ctx.rect,y,g,p,v),m=this.ctx.isPointInPath(s,l)?"record":!1),this.ctx.restore(),m},computeTransformedDimensions:function(t,e){var n=this.computeBorderSize(t),i=n.fullWidth,a=n.fullHeight,o=t.x-.5*i*t.scale+e.x/e.scale,r=t.y-.5*a*t.scale+e.y/e.scale,c=o+i*t.scale,s=r+a*t.scale;return{xMin:o,yMin:r,xMax:c,yMax:s}},isRecordEnclosed:function(t,e,n,i,a,o){var r=this.computeTransformedDimensions(t,e),c=r.xMin,s=r.yMin,l=r.xMax,d=r.yMax;return n>c&&l>n+a&&i>s&&d>i+o},isRecordInViewport:function(t,e,n,i,a,o){var r=this.computeTransformedDimensions(t,e),c=r.xMin,s=r.yMin,l=r.xMax,d=r.yMax,u=(l>n&&n+a>l||c>n&&n+a>c)&&(d>i&&i+o>d||s>i&&i+o>s),h=this.isRecordEnclosed(t,e,n,i,a,o);return u||h},draw:function(t,e,n,i,a){t.call(this.ctx,e,n,i,a)},transformToItem:function(t){var e=t.x,n=t.y,i=t.scale,a=t.angle;this.ctx.translate(e,n),this.ctx.rotate(a),this.ctx.scale(i,i),this.ctx.translate(-e,-n)},getDominantColor:function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");if(!n)return"#000";n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,t.width,t.height),a=5,o=-4,r=0,c=0,s=0,l=0,d=i.data.length;(o+=4*a)<d;)++r,c+=i.data[o],s+=i.data[o+1],l+=i.data[o+2];return c=~~(c/r),s=~~(s/r),l=~~(l/r),e=n=i=null,this.rgbToHex(c,s,l)},rgbToHex:function(t,e,n){var i=n|e<<8|t<<16;return"#"+i.toString(16)}};e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){this.ctx=t},render:function(t){var e=t.x,n=t.y,i=t.fullWidth,a=t.fullHeight,o=t.scale,r=t.canvasScale;this.draw(this.ctx.strokeRect,e-i/2,n-a/2,i,a,o,r)},draw:function(t,e,n,i,a,o,r){var c=50/o/r;this.ctx.strokeStyle="#00f",this.ctx.lineWidth=5/o/r,t.call(this.ctx,e-c/2+i,n-c/2+a,c,c),this.ctx.lineWidth=1}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i={selectedItem:-1,canvas:{id:1,x:-366.3,y:528.1,angle:0,scale:.22236,color:"#111",viewportTransform:[1,0,0,1,0,0]},items:[{id:2,caption:"Code projects",x:4141.8,y:-726.6,width:1024,height:786,color:"#2f54a8",angle:-.093,scale:.92394,pinBack:!0},{id:3,caption:"Places I've been",x:3505,y:364,width:1920,height:1080,color:"#f9f9fa",angle:0,scale:.37051,pinBack:!0,src:"3.gif"},{id:4,caption:"About me",x:2766,y:-506,width:1280,height:960,color:"#2c2b2e",angle:-.19,scale:1.03481,pinBack:!0},{id:5,caption:"Recommended books",x:5201,y:-471,width:1024,height:682,color:"#421607",angle:0,scale:.62695,pinBack:!0},{id:6,caption:"Art samples",x:4436,y:188,width:800,height:536,color:"#9e5d42",angle:.132,scale:1.10055,pinBack:!0},{id:201,caption:"AvsP video editor",x:4034.8,y:-823.6,width:458,height:317,color:"#acbedb",angle:-.093,scale:.38137,src:"201.png"},{id:202,caption:"DSNotes Homebrew",x:4094.6,y:-659.6,width:425,height:427,color:"#c3c0be",angle:-.093,scale:.24143},{id:203,caption:"QuickFits Rails application",x:3982.6,y:-672.9,width:1428,height:1230,color:"#797889",angle:-.093,scale:.04205},{id:204,caption:"Asteria JavaScript game",x:4000.1,y:-600.5,width:1682,height:1467,color:"#3e352a",angle:-.093,scale:.02287},{id:205,caption:"Frontend Framework comparison",x:4222.3,y:-588.2,width:1614,height:1290,color:"#f3f4f6",angle:-.093,scale:.04579},{id:206,caption:"HTML5 Canvas with Redux",x:4276.5,y:-767.7,width:932,height:812,color:"#202021",angle:-.093,scale:.22709},{id:301,caption:"Atlanta",x:3313,y:315,width:1024,height:768,color:"#8a7d6f",angle:0,scale:.00624},{id:302,caption:"Cancun",x:3313,y:343,width:1280,height:629,color:"#8fa3b1",angle:0,scale:.00158},{id:303,caption:"Chicago",x:3308,y:299,width:1024,height:689,color:"#635353",angle:0,scale:.012246},{id:304,caption:"Anaheim",x:3247,y:314,width:1024,height:683,color:"#8fa7b2",angle:0,scale:.00542},{id:305,caption:"Orlando",x:3325,y:327,width:1024,height:768,color:"#70839a",angle:0,scale:.00244},{id:306,caption:"Havana",x:3321,y:339,width:1024,height:771,color:"#7a808c",angle:0,scale:.00326},{id:307,caption:"London",x:3480,y:277,width:1280,height:816,color:"#7c8a8e",angle:0,scale:.00294},{id:308,caption:"New Orleans",x:3307,y:324,width:1024,height:768,color:"#8c8989",angle:0,scale:.00276},{id:309,caption:"Niagra Falls",x:3329,y:297,width:1280,height:964,color:"#869395",angle:0,scale:.00208},{id:310,caption:"Paris",x:3489,y:285,width:1024,height:670,color:"#756888",angle:0,scale:.00514},{id:311,caption:"Seoul",x:3737,y:307,width:1280,height:853,color:"#1f334e",angle:0,scale:.0093},{id:312,caption:"Washington DC",x:3332,y:309,width:1280,height:1003,color:"#7e8c87",angle:0,scale:.0021},{id:313,caption:"Venice",x:3509,y:291,width:1280,height:909,color:"#7e8c87",angle:0,scale:.00273},{id:314,caption:"Muskogee",x:3295,y:314,width:425,height:303,color:"#afb2b7",angle:0,scale:.01977},{id:315,caption:"Las Vegaas",x:3259.8,y:314.7,width:960,height:637,color:"#4b4139",angle:0,scale:.00606},{id:401,caption:"Rudy Lozano Leadership Academy",x:2604,y:-417,width:1024,height:768,color:"#9b999f",angle:-.19,scale:.12913},{id:402,caption:"University of Illinois",x:2287,y:-351,width:1024,height:581,color:"#4c5e4c",angle:-.19,scale:.11781},{id:403,caption:"Roh Square Consulting",x:2432,y:-391,width:1023,height:1121,color:"#a6a4a3",angle:-.19,scale:.09983},{id:404,caption:"Dev Bootcamp",x:2794,y:-454,width:640,height:486,color:"#8b4243",angle:-.19,scale:.21916},{id:405,caption:"BLUE1647",x:2972,y:-449,width:526,height:296,color:"#7c6f67",angle:-.19,scale:.21707},{id:406,caption:"Everspring",x:2948,y:-554,width:1920,height:1281,color:"#635a76",angle:-.19,scale:.05766},{id:407,caption:"Actualize",x:3163,y:-530,width:600,height:399,color:"#928976",angle:-.19,scale:.31055},{id:501,caption:"The Art of Game Design",x:5192,y:-489,width:355,height:499,color:"#eac4ac",angle:0,scale:.09017},{id:502,caption:"CSS Secrets",x:5217.4,y:-490,width:260,height:317,color:"#e7e2e7",angle:0,scale:.00248},{id:503,caption:"The Non-Designer's Design Book",x:5109,y:-494,width:490,height:700,color:"#626d69",angle:0,scale:.20501},{id:504,caption:"Presentation Zen",x:5216,y:-490,width:410,height:500,color:"#7480ab",angle:0,scale:.00332},{id:505,caption:"The Humane Interface",x:5230,y:-491,width:236,height:354,color:"#527f8a",angle:0,scale:.04663},{id:506,caption:"A Whole New Mind",x:5219,y:-490,width:432,height:648,color:"#e85f19",angle:0,scale:.00131},{id:507,caption:"Drive",x:5218.3,y:-490,width:331,height:500,color:"#f6e9eb",angle:0,scale:55e-5},{id:508,caption:"Drawing on the Right Side of the Brain",x:5212,y:-490,width:500,height:620,color:"#c1b2a1",angle:0,scale:.01026},{id:509,caption:"Made to Stick",x:5221,y:-490,width:405,height:600,color:"#e85e2e",angle:0,scale:.00394},{id:510,caption:"Making Comics",x:5274,y:-493,width:329,height:499,color:"#d1c9b5",angle:0,scale:.16453},{id:601,caption:"Wolverine sketch",x:4408,y:213,width:700,height:1e3,color:"#dad7b8",angle:.132,scale:.07547},{id:602,caption:"Naruto",x:4330,y:56,width:800,height:1198,color:"#e4d6ce",angle:.132,scale:.06336},{id:603,caption:"Hand sketch",x:4594,y:94,width:800,height:1219,color:"#f6f4f6",angle:.132,scale:.03793},{id:604,caption:"Swordsman sketch",x:4511,y:213,width:800,height:1219,color:"#f3f1f3",angle:.132,scale:.1286},{id:605,caption:"Caminos Logo",x:4469,y:43,width:1856,height:968,color:"#e3e3e3",angle:.132,scale:.09639,src:"605.png"},{id:606,caption:"Graffiti",x:4288,y:163,width:2197,height:1264,color:"#7a7874",angle:.132,scale:.06796}]},a=localStorage.getItem("state"),o=a?JSON.parse(a):i;o.items=o.items.map(function(t){return n({},t,{border:!0})}),e.default=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={$modal:document.getElementById("modal-info"),$caption:document.querySelector("#modal-info .caption"),$body:document.querySelector("#modal-info .body"),visible:!1,initialize:function(){return this.isSolid=!1,this.bindEvents(),this},hide:function(){this.$caption.style.pointerEvents="none",this.$body.style.pointerEvents="none",this.$modal.style.opacity=0,this.$caption.innerHTML="",this.$body.innerHTML="",this.visible=!1,this.isSolid=!1},show:function(t,e){this.$caption.style.pointerEvents="auto",this.$modal.style.opacity=.8,this.$caption.innerHTML=t,
  this.$body.innerHTML=e,this.visible=!0},bindEvents:function(){var t=this;this.$caption.onmousedown=function(e){e.preventDefault(),t.isSolid=!t.isSolid,t.isSolid?(t.$modal.style.opacity=1,t.$modal.style.pointerEvents="auto",t.$body.style.pointerEvents="auto"):(t.$modal.style.opacity=.8,t.$modal.style.pointerEvents="none",t.$body.style.pointerEvents="none")}}};e.default=n.initialize()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={props:null,$modal:document.getElementById("modal-menu"),$buttonSave:document.querySelector("#modal-menu-save"),$buttonReset:document.querySelector("#modal-menu-reset"),$buttonClose:document.querySelector("#modal-menu-close"),visible:!1,initialize:function(){return this.bindEvents(),this},hide:function(){this.$modal.style.display="none",this.visible=!1},show:function(t){this.props=t,this.$modal.style.display="block",this.visible=!0},bindEvents:function(){var t=this;this.$buttonClose.onclick=function(e){e.preventDefault(),t.hide()},this.$buttonSave.onclick=function(e){e.preventDefault(),t.props.onSaveLayout(),t.hide()},this.$buttonReset.onclick=function(e){e.preventDefault(),t.props.onResetLayout(),t.hide()}}};e.default=n.initialize()}]);</script>
  <script src="./data.js"></script>
</body>
</html>
